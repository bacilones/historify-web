"use strict";!function(){var n=angular.module("historify",[]);n.controller("MapController",["$scope","$http",function(n,e){function o(n,e,o){new google.maps.Marker({position:n,map:e,icon:i,label:o})}function t(n,e){new google.maps.Marker({position:n,label:"nuevo",map:e,draggable:!0,icon:r})}var a=!0,r="../resources/img/milestone.png",i="../resources/img/milestoneAjeno.png";n.getData=function(){var n={method:"GET",url:"http://api.historify.cl/historicalevent",params:{}};return e(n).then(function(n){return n.data})},n.initMap=function(){n.getData().then(function(n){console.log(n);var e=new google.maps.Map(document.getElementById("map"),{zoom:18,center:{lat:-33.434678,lng:-70.63578}});google.maps.event.addListener(e,"click",function(n){a&&(t(n.latLng,e),a=!a)}),n.forEach(function(n){o({lat:Number.parseFloat(n.lat),lng:Number.parseFloat(n.long)},e,n.name)})})},n.initMap()}])}();